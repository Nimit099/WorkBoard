<template>
	<template if:false={deletemodal}>
		<template if:false={isupdateticket}>
			<section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
				aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
				<div class="slds-modal__container">
					<div class="fullpopup">
						<div class="headerpopup"> Ticket </div>
						<div class="bodypopup">
							<div class="ticket-details">
								<div class="ticket-number-priority">
									<template if:false={isupdateticketNumber}>
										<div class="ticket-number" data-name="ticketNumber">
											{ticketNumber}</div>
									</template>

									<div class="ticket-priority">
										<div class="priority-key">Priority -</div>
										<div class="priority-value" data-name="ticketPriority">
											{ticketPriority}</div>
									</div>
								</div>
								<template if:false={isupdateticketName}>
									<div class="ticket-name" data-name="ticketName">{ticketName}
									</div>
								</template>
								<div class="ticket-description-attachment">
									<lightning-tabset active-tab-value={activetab}>
										<lightning-tab label="Description" value="description">
											<div class="ticket-description" data-name="ticketDescription">
												<div class="ticket-description-scroll">
													<lightning-formatted-rich-text
														value={ticketDescription}></lightning-formatted-rich-text>
												</div>
											</div>
										</lightning-tab>
										<lightning-tab label="Attachment" value="attachment" onclick={getfiles}>
											<div class="ticket-attachment">
												<template if:true={filescount}>
													<template for:each={files} for:item="file">
														<div class="image-box" key={file.fileId}>
															<div class="slds-file slds-file_card slds-has-title">
																<figure>
																	<a href={file.viewUrl} class="slds-file__crop"
																		target="_blank">
																		<img src={file.thumbnailPath}
																			alt={file.fileName} />
																	</a>
																</figure>
																<div class="figurecaption">
																	<div class="url-link">
																		<lightning-formatted-url
																			value={file.downloadUrl}
																			tooltip={file.filePath}
																			label={file.fileName} target="_blank">
																		</lightning-formatted-url>
																	</div>
																	<div class="url-bottom">
																		<p>{file.fileSize}.{file.fileExtn} </p>
																		<div>
																			<lightning-button-icon
																				onclick={openclosedeletepopup}
																				data-type="delete"
																				data-id={file.fileDocId} variant="base"
																				size="medium" icon-name="utility:delete"
																				alternative-text="delete"></lightning-button-icon>
																		</div>
																	</div>
																</div>
															</div>
														</div>
													</template>
												</template>
												<template if:false={filescount}>
													<p style="height: 100%;">There is no Attachment</p>
												</template>
											</div>
											<div class="uploadbutton">
												<lightning-input variant="label-hidden" onchange={openfileUpload}
													type="File"></lightning-input>
											</div>
										</lightning-tab>
									</lightning-tabset>
								</div>
								<div class="ticket-comments">
									<lightning-tabset active-tab-value="comment">
										<lightning-tab label="Comments" value="comment">
											<div class="ticket-description">
												<div class="ticket-description-scroll">
													Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
													eiusmod
													tempor incididunt ut labore et dolore magna aliqua. Et pharetra
													pharetra
													massa massa ultricies. Amet justo donec enim diam. Id leo in vitae
													turpis
													massa sed elementum tempus egestas. Praesent semper feugiat nibh sed
													pulvinar proin gravida hendrerit. Non tellus orci ac auctor augue.
													Etiam
													tempor orci eu lobortis elementum nibh. Facilisis mauris sit amet
													massa
													vitae tortor condimentum lacinia quis. Neque aliquam vestibulum
													morbi
													blandit cursus risus. Rhoncus aenean vel elit scelerisque mauris.
													Lobortis
													mattis aliquam faucibus purus. Nisl pretium fusce id velit. Quam
													lacus
													suspendisse faucibus interdum posuere. Convallis a cras semper
													auctor.
													Sagittis vitae et leo duis.

													Arcu felis bibendum ut tristique et egestas quis ipsum suspendisse.
													Felis
													eget nunc lobortis mattis aliquam faucibus purus. Fames ac turpis
													egestas
													integer eget aliquet nibh. Diam volutpat commodo sed egestas. Nec
													ullamcorper sit amet risus. Donec enim diam vulputate ut pharetra
													sit
													amet.
													Integer vitae justo eget magna fermentum. Pellentesque nec nam
													aliquam
													sem
													et tortor consequat id. Et egestas quis ipsum suspendisse ultrices.
													Imperdiet proin fermentum leo vel orci porta non pulvinar. Quis enim
													lobortis scelerisque fermentum dui faucibus in. Pulvinar proin
													gravida
													hendrerit lectus a. Tincidunt id aliquet risus feugiat. Id aliquet
													lectus
													proin nibh. Bibendum est ultricies integer quis auctor elit sed
													vulputate
													mi. A erat nam at lectus urna. Hendrerit gravida rutrum quisque non
													tellus
													orci ac auctor augue. A iaculis at erat pellentesque. Vivamus at
													augue
													eget
													arcu dictum varius duis at. Tellus in hac habitasse platea dictumst
													vestibulum rhoncus est pellentesque.

													Risus pretium quam vulputate dignissim suspendisse in. Sollicitudin
													ac
													orci
													phasellus egestas tellus rutrum tellus pellentesque eu. Tristique
													senectus
													et netus et malesuada fames ac turpis. Ligula ullamcorper malesuada
													proin
													libero nunc consequat interdum varius. Felis donec et odio
													pellentesque
													diam
													volutpat commodo sed. Tellus rutrum tellus pellentesque eu tincidunt
													tortor
													aliquam nulla. Quisque id diam vel quam elementum pulvinar. Et
													molestie
													ac
													feugiat sed lectus. Volutpat diam ut venenatis tellus in metus
													vulputate.
													Duis at tellus at urna condimentum mattis. Varius vel pharetra vel
													turpis
													nunc eget lorem.

													Urna et pharetra pharetra massa massa ultricies mi quis. Pulvinar
													mattis
													nunc sed blandit libero volutpat. Vitae tempus quam pellentesque nec
													nam
													aliquam sem. Semper viverra nam libero justo laoreet sit. Diam ut
													venenatis
													tellus in metus vulputate. Vestibulum sed arcu non odio euismod.
													Pretium
													fusce id velit ut. Sagittis nisl rhoncus mattis rhoncus urna.
													Vestibulum
													rhoncus est pellentesque elit ullamcorper dignissim cras tincidunt
													lobortis.
													Pharetra et ultrices neque ornare aenean euismod elementum.
													Condimentum
													vitae sapien pellentesque habitant morbi tristique senectus et
													netus.
													Fringilla phasellus faucibus scelerisque eleifend. Nulla malesuada
													pellentesque elit eget. Augue lacus viverra vitae congue eu
													consequat ac
													felis donec. Pretium viverra suspendisse potenti nullam. Est lorem
													ipsum
													dolor sit amet consectetur adipiscing elit pellentesque. Risus
													pretium
													quam
													vulputate dignissim. Pretium viverra suspendisse potenti nullam ac
													tortor
													vitae purus faucibus. Amet mauris commodo quis imperdiet massa
													tincidunt
													nunc pulvinar.

													Purus in massa tempor nec feugiat nisl pretium fusce. Amet purus
													gravida
													quis blandit turpis cursus in hac. Pharetra magna ac placerat
													vestibulum.
													Consectetur a erat nam at lectus. Vulputate odio ut enim blandit
													volutpat
													maecenas volutpat blandit. Ultrices neque ornare aenean euismod
													elementum
													nisi quis. Vulputate ut pharetra sit amet aliquam. Amet consectetur
													adipiscing elit duis tristique sollicitudin. Tristique senectus et
													netus
													et
													malesuada. Malesuada fames ac turpis egestas integer eget. Mauris
													rhoncus
													aenean vel elit. Eget velit aliquet sagittis id. Vitae aliquet nec
													ullamcorper sit amet risus nullam eget felis. Enim neque volutpat ac
													tincidunt vitae semper quis lectus. Posuere morbi leo urna molestie
													at
													elementum. Arcu cursus vitae congue mauris rhoncus aenean. Et netus
													et
													malesuada fames ac turpis egestas.
												</div>
											</div>
										</lightning-tab>
									</lightning-tabset>
								</div>
							</div>
							<div class="ticket-settings">
								<div class="ticket-setting-field ticket-setting">
									<div class="key">Field</div>
									<div class="value">{ticketFieldName}</div>
								</div>
								<div class="ticket-setting-startdate ticket-setting">
									<div class="key">Start Date</div>
									<template if:false={isupdateticketStartDate}>
										<div class="value" data-name="ticketStartDate">
											<lightning-formatted-date-time
												value={ticketStartDate}></lightning-formatted-date-time>
										</div>
									</template>
								</div>
								<div class="ticket-setting-enddate ticket-setting">
									<div class="key">End Date</div>
									<template if:false={isupdateticketEndDate}>
										<div class="value" data-name="ticketEndDate">
											<lightning-formatted-date-time
												value={ticketEndDate}></lightning-formatted-date-time>
										</div>
									</template>
								</div>
								<div class="ticket-setting-progress ticket-setting">
									<div class="key">Progress</div>
									<template if:false={isupdateticketCompletedPercentage}>
										<div>{ticketCompletedPercentage}%</div>
										<div class="value" data-name="ticketCompletedPercentage">
											<lightning-progress-bar value={ticketCompletedPercentage} size="medium"
												variant="circular">
											</lightning-progress-bar>
										</div>
									</template>
								</div>
								<div class="ticket-setting-createddate ticket-setting">
									<div class="key">Created On</div>
									<div class="value">
										<lightning-formatted-date-time
											value={ticketCreatedDate}></lightning-formatted-date-time>
									</div>
								</div>
								<div class="ticket-setting-updateddate ticket-setting">
									<div class="key">Last Updated On</div>
									<div class="value">
										<lightning-formatted-date-time
											value={ticketLastmodifieddate}></lightning-formatted-date-time>
									</div>
								</div>
							</div>
						</div>
						<div class="footerpopup">
							<div class="createbutton popupbutton" data-id="deletecancel" onclick={closeticketpopup}>
								Close
							</div>
							<div class="createbutton popupbutton" data-type={type} data-name="deleteyes"
								data-id="deleteyes" onclick={editticketpopup}></span> Edit
							</div>
						</div>
					</div>
				</div>
			</section>
			<div class="slds-backdrop slds-backdrop_open"></div>
		</template>
	</template>
	<template if:true={isupdateticket}>
		<c-createticketpopup fields={fields} name={ticketName} number={ticketNumber} description={ticketDescription}
			enddate={ticketEndDate} startdate={ticketStartDate} priority={ticketPriority} color={ticketColor}
			field={ticketFieldId} progress={ticketCompletedPercentage} isupdateticket={isupdateticket}
			onupdateticket={updateticket} oncloseticket={editticketpopup}></c-createticketpopup>
	</template>
	<template if:true={deletemodal}>
		<c-deletepopup type="File" boardid={fileId} ondeletefiles={deletefiles}
			onclosedeletepopup={openclosedeletepopup}>
		</c-deletepopup>
	</template>
</template>